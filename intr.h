#pragma once

#include "error.h"

#include <stdint.h>

////////////////////////////////////////////////////////////////////////////////
// Types declarations
////////////////////////////////////////////////////////////////////////////////

typedef uint16_t intr_id;

////////////////////////////////////////////////////////////////////////////////
// Constants + helper macros
////////////////////////////////////////////////////////////////////////////////

#define INTR_NUM_INTRS 512 // Chosen arbitrarily
#define INTR_INVALID INTR_NUM_INTRS // Will never be a valid interrupt number

////////////////////////////////////////////////////////////////////////////////
// Function declarations
////////////////////////////////////////////////////////////////////////////////

extern error_t interrupt_raise(intr_id which);
extern error_t interrupt_clear(intr_id which);

extern void interrupt_disable();
extern void interrupt_enable();

extern intr_id interrupt_which();
